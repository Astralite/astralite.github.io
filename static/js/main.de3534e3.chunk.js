(this["webpackJsonpdnd5-spells"]=this["webpackJsonpdnd5-spells"]||[]).push([[0],{48:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){"use strict";s.r(t);var l=s(1),n=s(0),c=s.n(n),a=s(13),i=s.n(a),o=(s(48),s(5)),r=s(38),d=s(39),u=s(42),j=s(40),b=s(18),f=s.n(b);var x=function(){var e=window.document,t=e.documentElement,s=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,l=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?l.call(e):s.call(t)},h=(s(66),s(11)),p=(s(67),function(e){var t=e.classes,s=e.onClickFunction;return Object(l.jsxs)(h.a,{className:"classes-dropdown",children:[Object(l.jsx)(h.a.Toggle,{variant:"dark",id:"dropdown-basic",children:"Class / SubClass"}),Object(l.jsx)(h.a.Menu,{children:t.map((function(e){var t=e.subclasses&&e.subclasses.map((function(t){return Object(l.jsxs)(h.a.Item,{onClick:function(){s(t.name,t.index,e.name,e.index)},children:[" - ",t.name]},t.index)}));return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)(h.a.Item,{onClick:function(){s(e.name,e.index,"","")},children:e.name}),t,Object(l.jsx)(h.a.Divider,{})]},e.index)}))})]})}),m=(s(71),function(e){e.selectedClass;var t=e.classInfo;if(t){var s=t.hit_die,n=t.proficiencies,c=t.proficiency_choices,a=t.saving_throws;return Object(l.jsxs)("div",{className:"menu-item info-box",children:[Object(l.jsxs)("div",{className:"hit-die",children:[Object(l.jsx)("span",{children:"Hit Die:"})," ",s]}),Object(l.jsxs)("div",{className:"saving-throws",children:[Object(l.jsx)("span",{children:"Savings Throws:"}),"object"===typeof a&&a.map((function(e){return Object(l.jsx)("div",{className:"saving-throw",children:e.name},e.index)}))]}),Object(l.jsxs)("div",{className:"proficiencies",children:[Object(l.jsx)("span",{children:"Proficiencies:"}),"object"===typeof n&&n.map((function(e){return Object(l.jsx)("div",{className:"proficiency",children:e.name},e.index)}))]}),Object(l.jsxs)("div",{className:"proficiency-choices",children:[Object(l.jsx)("span",{children:"Proficiency Choices: "}),"object"===typeof c&&c.length>0&&c[0].from.map((function(e){return Object(l.jsx)("div",{className:"proficiency",children:e.name},e.index)}))]})]})}return Object(l.jsx)("div",{className:"menu-item info-box",children:"No Class Selected"})}),O=(s(72),function(e){var t=e.prefix,s=e.text;return Object(l.jsxs)("div",{className:"subtitle",children:[t,"\xa0",Object(l.jsx)("div",{className:"subtitle-text",children:s.toString().toUpperCase()})]})}),v=(s(73),function(e){var t=e.parentName,s=e.className,n=e.selectedLevel;return Object(l.jsxs)("div",{className:"menu-item class-display-box row",children:[Object(l.jsx)(O,{prefix:"Class: ",text:t||s}),t&&Object(l.jsx)(O,{prefix:"SubClass: ",text:t&&s}),n&&Object(l.jsx)(O,{prefix:"Level: ",text:n.toString()})]})}),C=(s(74),function(e){var t=e.spellIndex,s=e.spellName,n=e.cellClickFunction,c=e.colorStyle;return Object(l.jsx)("div",{className:"spell-cell ".concat(c),onClick:function(){return n(t)},children:s})}),I=(s(75),function(e){var t=e.spells,s=e.cellClickFunction,n=e.colorStyle;return t=(t=t.map((function(e){return e.index&&e||e.spell}))).sort((function(e,t){return e.index<t.index?-1:1})),Object(l.jsx)("div",{className:"menu-item spells-container",children:t.map((function(e){return Object(l.jsx)(C,{spellIndex:e.index,spellName:e.name,cellClickFunction:s,colorStyle:n},e.index)}))})}),S=s(41),N=(s(76),function(e){var t=e.onClickFunction;return Object(l.jsxs)(h.a,{className:"level-selector-dropdown",children:[Object(l.jsx)(h.a.Toggle,{variant:"dark",id:"dropdown-basic",children:"Level"}),Object(l.jsx)(h.a.Menu,{children:Object(S.a)(Array(20)).map((function(e,s){return Object(l.jsx)(h.a.Item,{onClick:function(){return t(s+1)},children:s+1},s)}))})]})}),g=(s(77),function(e){var t=e.level,s=e.info;return Object(l.jsxs)("div",{className:"spell-slots-item",children:[Object(l.jsx)("div",{className:"slot-title",children:"Lvl. ".concat(t)}),Object(l.jsx)("div",{className:"content",children:s})]})}),w=(s(78),function(e){var t=e.levelInfo,s=e.selectedLevel,n=t.filter((function(e){return e.level===s})).reduce((function(e,t){return t.hasOwnProperty("spellcasting")?t.spellcasting:e}),null);if(n){for(var c=[],a=0,i=1;i<=9;i++){var r="spell_slots_level_".concat(i),d=n[r];a+=d||0,d&&c.push({key:r,level:i,info:d})}return Object(l.jsxs)("div",{className:"menu-item spell-slots",children:[Object(l.jsxs)("div",{children:["Number of Spell Slots (Total: ",a,")"]}),Object(l.jsx)("div",{className:"spell-slots-box",children:c.map((function(e){return Object(l.jsx)(g,Object(o.a)({},e),e.key)}))})]})}return Object(l.jsx)("div",{className:"menu-item info-box",children:"Class Has No Spell Slots"})}),y=s(17);s(79);var k=function(e){var t=e.show,s=e.onHide,n=e.spellInfo,c=n.name,a=n.desc,i=n.level,o=n.duration,r=n.range,d=c||"Loading...",u=a||"";return Object(l.jsxs)(y.a,{show:t,onHide:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(y.a.Header,{closeButton:!0,children:Object(l.jsx)(y.a.Title,{id:"contained-modal-title-vcenter",children:d})}),Object(l.jsxs)(y.a.Body,{children:[Object(l.jsxs)("div",{className:"attributes-container",children:[Object(l.jsxs)("div",{className:"attribute",children:[Object(l.jsx)("b",{children:"Level:\xa0"}),i]}),Object(l.jsxs)("div",{className:"attribute",children:[Object(l.jsx)("b",{children:"Duration:\xa0"}),o]}),Object(l.jsxs)("div",{className:"attribute",children:[Object(l.jsx)("b",{children:"Range:\xa0"}),r]})]}),u]}),Object(l.jsx)(y.a.Footer,{children:Object(l.jsx)(y.a,{onClick:s,children:"Close"})})]})},F=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).apiUrl="https://www.dnd5eapi.co/api",e.state={classes:[],selectedClass:{className:"",classIndex:"",parentName:"",parentIndex:""},selectedLevel:1,selectedSpell:"",levelInfo:{},spellInfo:{},showModal:!0},e.toggleModal=function(){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{showModal:!e.state.showModal}))},e.hideModal=function(){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{showModal:!1}))},e.showModal=function(){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{showModal:!0}))},e.selectSpell=function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{selectedSpell:t}),e.showModal),f.a.get(e.apiUrl+"/spells/"+t).then((function(t){var s=t.data,l=e.state.spellInfo;l[s.index]=s,e.setState(Object(o.a)(Object(o.a)({},e.state),{},{spellInfo:l}))}))},e.selectClass=function(t,s,l,n){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{selectedClass:{className:t,classIndex:s,parentName:l,parentIndex:n}}),e.updateClassInfo)},e.selectLevel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e.setState(Object(o.a)(Object(o.a)({},e.state),{},{selectedLevel:t}),e.updateLevelInfo)},e.selectedClassInfo=function(){return e.state.classes.find((function(t){return t.index===e.state.selectedClass.classIndex||t.index===e.state.selectedClass.parentIndex}))},e.selectedSubClassInfo=function(){if(e.state.selectedClass.parentIndex)return e.selectedClassInfo().subclasses.find((function(t){return t.index===e.state.selectedClass.classIndex}))},e.updateClassInfo=function(){var t=e.state.selectedClass.classIndex,s=e.state.selectedClass.parentIndex,l=s||t,n=e.selectedClassInfo().spells;if("string"===typeof n&&n.indexOf("/api")>=0&&f.a.get(e.apiUrl+"/classes/"+l+"/spells").then((function(t){var s=t.data.results;e.setState(Object(o.a)(Object(o.a)({},e.state),{},{classes:e.state.classes.map((function(e){return e.index===l?Object(o.a)(Object(o.a)({},e),{},{spells:s}):e}))}))})),s){var c=e.selectedClassInfo().subclasses.find((function(e){return e.index===t}));"object"===typeof c&&void 0===c.desc&&f.a.get(e.apiUrl+"/subclasses/"+t).then((function(l){var n=l.data;e.setState(Object(o.a)(Object(o.a)({},e.state),{},{classes:e.state.classes.map((function(e){return e.index===s?Object(o.a)(Object(o.a)({},e),{},{subclasses:e.subclasses.map((function(e){return e.index===t?n:e}))}):e}))}))}))}e.updateLevelInfo()},e.updateLevelInfo=function(){var t=e.state.selectedClass.parentIndex||e.state.selectedClass.classIndex;t&&("undefined"===typeof e.state.levelInfo[t]&&f.a.get(e.apiUrl+"/classes/"+t+"/levels").then((function(s){var l=s.data,n=e.state.levelInfo;n[t]=l,e.setState(Object(o.a)(Object(o.a)({},e.state),{},{levelInfo:n}))})))},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this;f.a.get(this.apiUrl+"/classes").then((function(t){var s=t.data.results;e.setState(Object(o.a)(Object(o.a)({},e.state),{},{classes:s}));var l=[];s.forEach((function(t){l.push(f.a.get("".concat(e.apiUrl,"/classes/").concat(t.index)))})),f.a.all(l).then((function(t){t.forEach((function(t){var s=t.data;e.setState(Object(o.a)(Object(o.a)({},e.state),{},{classes:e.state.classes.map((function(e){return e.index===s.index?s:e}))}))}))}))}))}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"toggle-fs",onClick:x}),Object(l.jsx)("h1",{className:"menu-item title",children:"D&D Spells"}),Object(l.jsxs)("div",{className:"menu-item selectors-container row",children:[Object(l.jsx)(p,{classes:this.state.classes,onClickFunction:this.selectClass}),Object(l.jsx)(N,{onClickFunction:this.selectLevel})]}),Object(l.jsx)(v,Object(o.a)(Object(o.a)({},this.state.selectedClass),{},{selectedLevel:this.state.selectedLevel})),Object(l.jsx)(m,{classInfo:this.selectedClassInfo()}),this.state.levelInfo[this.state.selectedClass.parentIndex||this.state.selectedClass.classIndex]&&Object(l.jsx)(w,{selectedLevel:this.state.selectedLevel,levelInfo:this.state.levelInfo[this.state.selectedClass.parentIndex||this.state.selectedClass.classIndex]}),this.selectedClassInfo()&&"object"===typeof this.selectedClassInfo().spells&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{className:"menu-item title color-style-1",children:"Class Spells"}),Object(l.jsx)(I,{spells:this.selectedClassInfo().spells,cellClickFunction:this.selectSpell,colorStyle:"color-style-1"})]}),this.selectedSubClassInfo()&&"object"===typeof this.selectedSubClassInfo().spells&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{className:"menu-item title color-style-2",children:"SubClass Spells"}),Object(l.jsx)(I,{spells:this.selectedSubClassInfo().spells,cellClickFunction:this.selectSpell,colorStyle:"color-style-2"})]}),this.state.selectedSpell&&Object(l.jsx)(k,{show:this.state.showModal,onHide:this.hideModal,spellInfo:this.state.spellInfo[this.state.selectedSpell]||this.state.selectedSpell})]})}}]),s}(n.Component);i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.de3534e3.chunk.js.map